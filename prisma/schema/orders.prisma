enum OrderStatus {
    PLACED
    PREPARING
    READY
    DELIVERED
    CANCELLED
}

model Order {
    id              String      @id @default(uuid())
    status          OrderStatus @default(PLACED)
    totalPrice      Float
    deliveryAddress String

    customerId String
    providerId String

    customer User            @relation("CustomerOrders", fields: [customerId], references: [id], onDelete: Cascade)
    provider ProviderProfile @relation(fields: [providerId], references: [id], onDelete: Cascade)

    items  OrderItem[]
    review Review?

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([id])
    @@map("order")
}
